@using Company_Site.Data
@using Company_Site.Enum

<div class="flex-column px-3 mt-2">
    <p class="lead color-gray">MENU</p>
</div>
<div class="@(IsCollapsed? "collapsed" : "") navbar">
    <nav class="d-flex justify-content-center flex-column px-3">
        <a class="@((SelectedOption == "Dashboard" || SelectedOption == string.Empty ? "active" : "")) nav-item my-2 text-start" href="" @onclick='(() => {SelectedOption = "Dashboard";})'>
            <div class='nav-link d-flex align-items-center'>
                <span class="fa fa-th-large me-2" aria-hidden="true"></span> <p class="m-0">Dashboard</p>
            </div>
        </a>
        <a class="@((SelectedOption == "NewAcquisition" ? "active" : "")) nav-item my-2 text-start" href="/newacquisition"  @onclick='(() => {SelectedOption = "NewAcquisition";})'>
            <div class="nav-link d-flex align-items-center" >
                <span class="fa fa-home me-2" aria-hidden="true"></span> <p class="m-0">New Acquisition</p>
            </div>
        </a>
        <a class="@((SelectedOption == "MemoMaster" ? "active" : "")) nav-item my-2 text-start" href="/memomaster"  @onclick='(() => {SelectedOption = "MemoMaster";})'>
            <div class="nav-link d-flex align-items-center" >
                <span class="fa fa-envelope me-2" aria-hidden="true"></span> <p class="m-0">Memo Master</p>
            </div>
        </a>
        <a class="@((SelectedOption == "Vendors" ? "active" : "")) nav-item my-2 text-start" href="/vendors"  @onclick='(() => {SelectedOption = "Vendors";})'>
            <div class="nav-link d-flex align-items-center">
                <span class="fa fa-users me-2" aria-hidden="true"></span> <p class="m-0">Vendors</p>
            </div>
        </a>
        <a class="@((SelectedOption == "Finance" ? "active" : "")) nav-item my-2 text-start" href="/finance"  @onclick='(() => {SelectedOption = "Finance";})'>
            <div class="nav-link d-flex align-items-center">
                <span class="fa fa-file-invoice-dollar me-2" aria-hidden="true"></span> <p class="m-0">Finance</p>
            </div>
        </a>
        @if(IsAdmin)
        {
            <a class="@((SelectedOption == "Admin" ? "active" : "")) nav-item my-2 text-start" href="admin"  @onclick='(() => {SelectedOption = "Admin";})'>
                <div class="nav-link d-flex align-items-center" >
                    <span class="fa fa-server me-2"></span> 
                    <p class="m-0">Admin Dashboard</p>
                </div>
            </a>
        }
        <a class="@((SelectedOption == "Logout" ? "active" : "")) nav-item my-2 text-start" href="logout"  @onclick='(() => {SelectedOption = "Logout";})'>
            <div class="nav-link d-flex align-items-center">
                <span class="fa fa-lock me-2"></span> <p class="m-0">Logout</p>
            </div>
        </a>
    </nav>
</div>

@code {
    /// <summary>
    /// Indicates the currently selected option of the menu
    /// </summary>
    private string SelectedOption = string.Empty;

    [Parameter]
    public bool IsCollapsed { get; set; }

    [CascadingParameter(Name = "IsAdmin")]
    public bool IsAdmin { get; set; }

    [CascadingParameter(Name ="Pages")]
    public List<UserPages> Pages { get; set; }

    protected override void OnInitialized()
    {
        base.OnInitialized();
    }
}
