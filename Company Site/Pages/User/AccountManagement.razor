@page "/accounts"
@using Company_Site.Base;
@using Company_Site.Data;
@using Company_Site.Pages.Components;
@using Radzen.Blazor

@inherits BaseAddPage<TrustRelationModel, int>

<p class="fw-bold text-button-heading mb-2">Account Management</p>

<div class="card">
    <div class="card-body">
        <!-- These fields will be auto generated and won't be a part of form -->
        <div class="d-flex justify-content-center align-items-center text-center">
            <label for="accName" class="me-1">Account Name </label>
            <RadzenDropDown class="ms-1" LoadData="LoadAccountData" AllowFiltering="true" TValue="string" Value=_applicationState.BorrowerCode Data="FilteredAccounts" TextProperty="Company" ValueProperty="BorrowerCode" Change="OnAccountChange"/>
        </div>
        <div class="d-flex justify-content-center">
            <div class="mt-3 d-flex text-center">
                <div style="width: 200px;" class="mx-1">
                    <label for="accCode">Account Code</label>
                    <label class="form-control" style="width: 200px;">@(_applicationState.BorrowerCode == -1 ? "No Account Selected" : _applicationState.BorrowerCode)</label>
                </div>
            </div>
        </div>

        <!-- Navbar -->
        <div class="mt-3 text-center">
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/accountDetails">Account Details</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/borrowerdetails">Borrower Details</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/financialData">Finance</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/debtprofile">Debt Profile</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/AssetDetails">Asset Details</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/resolutionstatus">Resolution</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/CashFlowProjects">Cash flow</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/TrustMaster">Trust Details</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/Documentslist">Documents</a>
            <a class="btn btn-primary d-inline-block mb-3 navBtn" href="/ApprovalsAndMemo">Approvals</a>
        </div>
        <div class="card">
            <div class="card-body">
                <div class="row mx-2">
                    <div class="col-4">
                        <label for="officer">Officer</label>
                        <input id="officer" class="form-control" type="text">
                        <label for="borrowerName" class="mt-3">Borrower Name</label>
                        <input type="text" id="borrowerName" class="form-control">
                        <label for="numOfLenders">Number Of Lenders</label>
                        <input type="text" id="numOfLenders" class="form-control">
                        <label for="resStrategy">Resolution Strategy</label>
                        <input type="text" id="resStrategy" class="form-control">
                    </div>
                    <div class="col-4">
                        <label for="group">Group</label>
                        <input type="text" id="group" class="form-control">
                        <label for="guarantorName">Guarantor Name</label>
                        <input type="text" id="guarantorName" class="form-control">
                        <label for="share">Our Share</label>
                        <input type="text" id="share" class="form-control">
                        <label for="currStatus">Current Status</label>
                        <input type="text" id="currStatus" class="form-control">
                    </div>
                    <div class="col-4">
                        <label for="recTillDate">Recovery till Date</label>
                        <input type="text" id="recTillDate" class="form-control">
                        <label for="expRec">Expected Recovery</label>
                        <input type="text" id="expRec" class="form-control">
                        <label for="expLife">Expected Life time recovery</label>
                        <input type="text" id="expLife" class="form-control">
                        <label for="secVal">Secrity Value</label>
                        <input type="text" id="secVal" class="form-control">
                        <label for="resTimeline">Resolution timeline</label>
                        <input type="text" id="resTimeline" class="form-control">
                    </div>
                </div>

                <!--Modal to enter new record-->
                <div class="mt-4">
                    <div>
                        <Table T="TrustRelationModel" T2="int" Items="Enteries" GetId="GetId" Headers=Headers IsEditable="@(e => false)" IsDeleteable=@(e => false) IsSearchable=false></Table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
